// project is Maven-style
apply plugin: 'groovy'
apply plugin: 'maven'

// eclipse project generation support
apply plugin: 'eclipse'

// identifiers
group = 'org.gradlelatex'
version = '1.0-SNAPSHOT'

dependencies {
    // make this a gradle plugin project
    compile gradleApi()
    compile localGroovy()

    // testing
    testCompile group:'junit', name:'junit', version:'4.12'
}

// use main Maven repos
repositories {
    mavenLocal()
    mavenCentral()
}

// print test report (for Travis) 
test {
    afterTest { desc, result ->
        println "  Test ${desc.className}.${desc.name} - ${result.resultType}"
    }
}

// extra eclipse setup
eclipse {
    // do not hardcode Maven repo in project file
    pathVariables 'M2_REPO': file(repositories[0].url)
}